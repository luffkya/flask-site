{% extends "base.html" %}
{% block title %}–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤{% endblock %}
{% block content %}

<h2>üèÜ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</h2>

<form method="get" action="/leaderboard">
  <label for="filter">–§–∏–ª—å—Ç—Ä –ø–æ –∏–≥—Ä–æ–∫—É:</label>
  <input type="text" id="filter" name="player" value="{{ request.args.get('player', '') }}">
  <button type="submit">üîç –ù–∞–π—Ç–∏</button>
  {% if request.args.get('player') %}
    <a href="/leaderboard">–°–±—Ä–æ—Å–∏—Ç—å</a>
  {% endif %}
</form>
<br>

{% for game, game_scores in scores.items() %}
  <h3>
    {% if game == 'snake' %}üêç –ó–º–µ–π–∫–∞
    {% elif game == '2048' %}üî¢ 2048
    {% elif game == 'minesweeper' %}üí£ –°–∞–ø—ë—Ä
    {% elif game == 'platformer' %}üß± –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä
    {% else %}üéÆ {{ game|capitalize }}
    {% endif %}
  </h3>

  {% if game_scores %}
    <table border="1" cellpadding="5" cellspacing="0">
      <tr>
        <th>#</th>
        <th>–ò–≥—Ä–æ–∫</th>
        <th>–û—á–∫–∏</th>
      </tr>
      {% for entry in game_scores %}
        {% if not filter_player or entry.username.lower() == filter_player.lower() %}
          <tr {% if session.get('username') == entry.username %} style="background-color: #d0f0d0;" {% endif %}>
            <td>{{ loop.index }}</td>
            <td>{{ entry.username }}</td>
            <td>{{ entry.score }}</td>
          </tr>
        {% endif %}
      {% endfor %}
    </table>
  {% else %}
    <p><i>–ü–æ–∫–∞ –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.</i></p>
  {% endif %}
  <br>
{% endfor %}

{% endblock %}
